@page "/reports"
@inject IJSRuntime JSRuntime
@inject HttpClient Http

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">@Localizer["DashboardReports"]</MudText>
    </div>
    <MudCardContent>
        <MudTextField @bind-Value="AccommodationId"
                      Label="@Localizer["AccommodationID"]"
                      Variant="Variant.Outlined"
                      FullWidth="true"
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.Hotel"
                      Margin="Margin.Dense"
                      Class="my-text-field" />

        <MudDateRangePicker Label="@Localizer["SelectDateRange"]"
                            @bind-DateRange="DateRange" />
    </MudCardContent>
</MudCard>

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">@Localizer["OccupancyPercentage"]</MudText>
    </div>
    <div>
        <MudChart ChartType="ChartType.Line"
                  ChartSeries="@Series"
                  @bind-SelectedIndex="Index"
                  XAxisLabels="@XAxisLabels"
                  Width="100%"
                  Height="350px"
                  ChartOptions="@Options" />
    </div>
</MudCard>

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">@Localizer["MonthlyRevenue"]</MudText>
    </div>
    <div>
        <MudChart ChartType="ChartType.Bar"
                  ChartSeries="@Seriesc"
                  @bind-SelectedIndex="Indexc"
                  XAxisLabels="@XAxisLabelsc"
                  Width="100%"
                  Height="350px" />
    </div>
</MudCard>

<MudCard>
    <div class="d-flex flex-column align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">@Localizer["DownloadReports"]</MudText>
    </div>

    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary" class="me-3 fw-bold">
            @Localizer["OccupancyReport"]
        </MudText>
        <MudButton EndIcon="@Icons.Material.Filled.ArrowDownward" OnClick="DownloadReport" Disabled="@IsDownloadDisabled" Color="Color.Primary">
            @Localizer["Download"]
        </MudButton>
    </div>
</MudCard>

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary" class="me-3 fw-bold">
            @Localizer["RevenueReport"]
        </MudText>
        <MudButton EndIcon="@Icons.Material.Filled.ArrowDownward" OnClick="DownloadRevenueReport" Disabled="@IsDownloadDisabled" Color="Color.Primary">
            @Localizer["Download"]
        </MudButton>
    </div>
</MudCard>

<MudSnackbarProvider />