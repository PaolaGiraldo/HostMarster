@page "/reports"
@inject IJSRuntime JSRuntime
@inject HttpClient Http

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">Dashboard Reports</MudText>
    </div>
    <MudCardContent>
        <MudTextField @bind-Value="AccommodationId"
                      Label="Accommodation ID"
                      Variant="Variant.Outlined"
                      FullWidth="true"
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.Hotel"
                      Margin="Margin.Dense"
                      Class="my-text-field" />


        <MudDateRangePicker Label="Seleccione un rango de fechas"
                            @bind-DateRange="DateRange" />


    </MudCardContent>
</MudCard>

<MudCard>

        <div class="d-flex justify-content-center align-items-center my-4">
            <MudText Typo="Typo.h6" Color="Color.Primary">Porcentaje de Ocupación</MudText>
        </div>
    <div>
    <MudChart ChartType="ChartType.Line"
              ChartSeries="@Series"
              @bind-SelectedIndex="Index"
              XAxisLabels="@XAxisLabels"
              Width="100%"
              Height="350px"
              ChartOptions="@Options" />
</div>
</MudCard>

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">Ingresos por mes</MudText>
    </div>
    <div>
        <MudChart ChartType="ChartType.Bar" ChartSeries="@Seriesc" @bind-SelectedIndex="Indexc" XAxisLabels="@XAxisLabelsc" Width="100%" Height="350px"></MudChart>
    </div>    

</MudCard>


<MudCard>
    <div class="d-flex flex-column align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary">Reportes para Descargar</MudText>
    </div>

    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary" class="me-3 fw-bold">
            Reporte de ocupación
        </MudText>
        <MudButton EndIcon="@Icons.Material.Filled.ArrowDownward" OnClick="DownloadReport" Disabled="@IsDownloadDisabled" Color="Color.Primary">
            Descargar
        </MudButton>
    </div>



</MudCard>

<MudCard>
    <div class="d-flex justify-content-center align-items-center my-4">
        <MudText Typo="Typo.h6" Color="Color.Primary" class="me-3 fw-bold">
            Reporte de Ingresos
        </MudText>
        <MudButton EndIcon="@Icons.Material.Filled.ArrowDownward" OnClick="DownloadRevenueReport" Disabled="@IsDownloadDisabled" Color="Color.Primary">
            Descargar
        </MudButton>
    </div>



</MudCard>

<MudSnackbarProvider />
